% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/09_plot_utils.R
\name{scatter_lm}
\alias{scatter_lm}
\title{带回归线的散点图（基础版）}
\usage{
scatter_lm(
  data,
  x,
  y,
  digits = 3,
  label.x = NULL,
  label.y = NULL,
  marginal = c("histogram", "density", "boxplot"),
  bins = 15,
  margin_fill = "grey60",
  margin_color = "white",
  ...
)
}
\arguments{
\item{data}{\code{data.frame}，必须包含 x、y 列}

\item{x, y}{字符标量，变量名}

\item{digits}{数值，R² 与 P 值保留小数位，默认 3}

\item{label.x, label.y}{图内标注坐标；NULL 时自动置于左上角 5\% 处}

\item{...}{额外参数，透传给 \code{geom_point()} 与 \code{geom_rug()}，
例如 \code{color = group, size = 2, alpha = 0.6}}
}
\value{
\if{html}{\out{<div class="sourceCode">}}\preformatted{    \code{ggplot} 对象，可继续用 \code{+} 叠加图层或保存
}\if{html}{\out{</div>}}
}
\description{
快速绘制 X-Y 散点 + 线性回归置信带，并在图内标注 R² 与 P 值；
支持 rug、点形/颜色等额外美学参数透传。
}
\details{
\itemize{
\item 使用 \code{lm(y ~ x)} 拟合，并绘制 95\% 置信带
\item rug 位于底部与左侧，位置 jitter 避免重叠
\item 图内文本固定为 Times 风格，方便后续主题统一
}
}
\examples{
\dontrun{
p <- scatter_lm(mtcars, "wt", "mpg",
                color = cyl, size = 3, alpha = 0.7)
print(p)
ggsave("scatter_lm.png", p, width = 5, height = 4)
}

}
